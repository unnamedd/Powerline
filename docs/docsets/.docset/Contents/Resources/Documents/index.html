<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
           Docs
        </a>
         (72% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/formbound/Powerline">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html"> Reference</a>
      <img class="carat" src="img/carat.png" />
        Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Context.html">Context</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Context/Parameters.html">– Parameters</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ArgumentName.html">ArgumentName</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/CommandError.html">CommandError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ProcessError.html">ProcessError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/StandardInputInitializableError.html">StandardInputInitializableError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Bool.html">Bool</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Double.html">Double</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Int.html">Int</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/String/ASCIIStyle.html">– ASCIIStyle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/URL.html">URL</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ArgumentProtocol.html">ArgumentProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Command.html">Command</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/FileHandleStream.html">FileHandleStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ReadableStream.html">ReadableStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/StandardInputInitializable.html">StandardInputInitializable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/WritableStream.html">WritableStream</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Arguments.html">Arguments</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Flag.html">Flag</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/InputStream.html">InputStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Option.html">Option</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/OutputStream.html">OutputStream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Parameter.html">Parameter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ProcessHandler.html">ProcessHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ProcessResult.html">ProcessResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Stream.html">Stream</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TokenizedArguments.html">TokenizedArguments</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TokenizedArguments/TokenType.html">– TokenType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TokenizedArguments.html#/s:9Powerline18TokenizedArgumentsV5TokenV">– Token</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <p align="center">
<img src="https://raw.githubusercontent.com/formbound/Powerline/master/Images/header.png" height="250" />
</p>
<h1 id='powerline' class='heading'>Powerline</h1>

<p>Powerline is a library for writing fast and reliable command-line applications in Swift, for Linux and macOS.</p>
<h2 id='features' class='heading'>Features</h2>

<ul>
<li>[x] Subcommands</li>
<li>[x] Type-safe argument parsing</li>
<li>[x] Shell commands</li>
<li>[x] Prompting</li>
<li>[x] String coloring</li>
</ul>
<h2 id='glossary' class='heading'>Glossary</h2>

<p>Due to lack of argument parsing standards, Powerline adopts a similar style to that of git. Here&rsquo;s how Powerline distinguishes types of arguments:</p>

<ul>
<li><strong>Option</strong>
A key-value argument. <code>--message &quot;Message&quot;</code> or <code>-m &quot;Message&quot;</code></li>
<li><strong>Flag</strong>
An on-off switch defining a condition.  <code>--verbose</code> or <code>-v</code>

<ul>
<li>Multiple flags can be combined. <code>-a -b -c</code>, equals <code>-abc</code></li>
<li>A series of flags can contain a trailing option <code>-abcm &quot;Message&quot;</code></li>
</ul></li>
<li><strong>Parameter</strong>
An argument that is a value in itself</li>
</ul>
<h2 id='creating-an-executable' class='heading'>Creating an executable</h2>

<ul>
<li>Create a new folder and run <code>swift package init —type executable</code></li>
<li>Add <code>Powerline</code> as a dependency to your package</li>
</ul>
<pre class="highlight swift"><code><span class="c1">// swift-tools-version:4.0</span>
<span class="kd">import</span> <span class="kt">PackageDescription</span>

<span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"example"</span><span class="p">,</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/formbound/Powerline"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"1.0.0"</span><span class="p">),</span>
    <span class="p">],</span>
    <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="nf">target</span><span class="p">(</span>
            <span class="nv">name</span><span class="p">:</span> <span class="s">"example"</span><span class="p">,</span>
            <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="s">"Powerline"</span><span class="p">]),</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre>

<ul>
<li>Define arguments for your command</li>
</ul>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">Flag</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">verbose</span> <span class="o">=</span> <span class="kt">Flag</span><span class="p">(</span>
        <span class="nv">longName</span><span class="p">:</span> <span class="s">"verbose"</span><span class="p">,</span>
        <span class="nv">shortName</span><span class="p">:</span> <span class="s">"v"</span><span class="p">,</span>
        <span class="nv">summary</span><span class="p">:</span> <span class="s">"Print verbose output"</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">Option</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">count</span> <span class="o">=</span> <span class="kt">Option</span><span class="p">(</span>
        <span class="nv">longName</span><span class="p">:</span> <span class="s">"count"</span><span class="p">,</span>
        <span class="nv">shortName</span><span class="p">:</span> <span class="s">"n"</span><span class="p">,</span>
        <span class="nv">summary</span><span class="p">:</span> <span class="s">"Repeat n times"</span>
    <span class="p">)</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">Parameter</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">message</span> <span class="o">=</span> <span class="kt">Parameter</span><span class="p">(</span>
        <span class="nv">name</span><span class="p">:</span> <span class="s">"Message"</span><span class="p">,</span>
        <span class="nv">summary</span><span class="p">:</span> <span class="s">"Message to print"</span>
    <span class="p">)</span>
<span class="p">}</span>
</code></pre>

<ul>
<li>Create a command</li>
</ul>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">ExampleCommand</span> <span class="p">:</span> <span class="kt">Command</span> <span class="p">{</span>

    <span class="k">let</span> <span class="nv">summary</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"A sample command that prints a message"</span>

    <span class="c1">// Define the arguments that the command accepts</span>
    <span class="k">let</span> <span class="nv">arguments</span> <span class="o">=</span> <span class="kt">Arguments</span><span class="p">(</span>
        <span class="nv">flags</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">verbose</span><span class="p">],</span>
        <span class="nv">options</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">count</span><span class="p">],</span>
        <span class="nv">parameters</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">message</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="c1">// Process the command.</span>
    <span class="c1">// `Context` contains information about the process, such as tokenized</span>
    <span class="c1">// arguments and more</span>
    <span class="kd">func</span> <span class="nf">process</span><span class="p">(</span><span class="nv">context</span><span class="p">:</span> <span class="kt">Context</span><span class="p">)</span> <span class="k">throws</span> <span class="p">{</span>

        <span class="k">let</span> <span class="nv">message</span><span class="p">:</span> <span class="kt">String</span>

        <span class="c1">// If the message is provided as an argument, use it</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">provided</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="k">try</span> <span class="n">context</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="nf">value</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">message</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">message</span> <span class="o">=</span> <span class="n">provided</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// Otherwise, ask the user to provide a message</span>
            <span class="n">message</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="nf">read</span><span class="p">(</span><span class="nv">message</span><span class="p">:</span> <span class="s">"What do you want to print out?"</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="c1">// Read the count option, or default to 1</span>
        <span class="k">let</span> <span class="nv">count</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="k">try</span> <span class="n">context</span><span class="o">.</span><span class="nf">value</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="o">.</span><span class="n">count</span><span class="p">)</span> <span class="p">??</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="p">{</span>
            <span class="c1">// Prompt a user to print a message more than 10 times</span>
            <span class="k">guard</span> <span class="n">context</span><span class="o">.</span><span class="nf">confirm</span><span class="p">(</span><span class="s">"Print </span><span class="se">\"\(</span><span class="n">message</span><span class="se">)\"</span><span class="s"> </span><span class="se">\(</span><span class="n">count</span><span class="se">)</span><span class="s"> times?"</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">context</span><span class="o">.</span><span class="nf">print</span><span class="p">(</span><span class="s">"Aborting"</span><span class="o">.</span><span class="n">red</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">0</span> <span class="o">..&lt;</span> <span class="n">count</span> <span class="p">{</span>
            <span class="c1">// Print verbos output</span>
            <span class="k">if</span> <span class="n">context</span><span class="o">.</span><span class="n">flags</span><span class="o">.</span><span class="nf">contains</span><span class="p">(</span><span class="o">.</span><span class="n">verbose</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">context</span><span class="o">.</span><span class="nf">print</span><span class="p">(</span><span class="s">"Printing message number </span><span class="se">\(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="se">)</span><span class="s">..."</span><span class="o">.</span><span class="n">darkGray</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="n">context</span><span class="o">.</span><span class="nf">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">green</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<ul>
<li>Run the command</li>
</ul>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">command</span> <span class="o">=</span> <span class="kt">ExampleCommand</span><span class="p">()</span>
<span class="k">try</span> <span class="n">command</span><span class="o">.</span><span class="nf">run</span><span class="p">()</span>
</code></pre>
<h2 id='documentation' class='heading'>Documentation</h2>

<p>Read the code documentation at <a href="http://powerline.formbound.org">powerline.formbound.org</a></p>
<h2 id='license' class='heading'>License</h2>

<p>Powerline is released under the MIT license. See LICENSE for details.</p>
<h2 id='about-formbound' class='heading'>About Formbound</h2>

<p>Formbound AB is a software development firm devoted to open-source development.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2018 <a class="link" href="" target="_blank" rel="external">Formbound</a>. All rights reserved. (Last updated: 2018-05-28)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
